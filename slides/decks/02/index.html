<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Lesson 02</title>

		<link rel="stylesheet" href="../../dist/reset.css">
		<link rel="stylesheet" href="../../dist/reveal.css">
		<link rel="stylesheet" href="../../dist/theme/black.css">
		<link rel="stylesheet" type="text/css" href="../../css/asciinema-player.css" />

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="../../plugin/highlight/github-dark.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section id="introduction">
					<h1>MongoDB</h1> 
					<h3>and</h3>
					<h1>Deployment</h1>
					<h3>Lesson 02</h3>
					<h4>SWABE-01</h4>
				</section>
				<section id="agenda">
					<h2>Agenda</h2>
					<ul>
						<li>Node.js environment variables</li>
						<li>Introduction to MongoDB</li>
					</ul>
				</section>
				<section>
					<section>
						<h2>Introduction</h2>
						<h4>to</h4>
						<h2>MongoDB</h2>
					</section>
					<section>
						<h2>MongoDB</h2>
						<ul>
							<li>Mongo is a NoSQL database
								<ul>
									<li>More specifically: A document database</li>
									<li>Documents are stored in collections</li>
								</ul>
							</li>
							<li>Mongo stores data in BSON
								<ul>
									<li>Much like JSON</li>
								</ul>
							</li>
						</ul>
					</section>
					<section>
						<h2>Documents</h2>
						<ul>
							<li>Document–a way to store data as a set of field-value pairs</li>
							<li>Collections–an organized store of documents in MonGoDB, usually with common fields</li>
							<li>Uses the JSON format when viewing and updating</li>
						</ul>
					</section>
					<section>
						<h2>Data formats</h2>
						<ul>
							<li>JSON
								<ul>
									<li>Pros: Human-readable, Familiar</li>
									<li>Cons: Text-based, space-consuming, limited types</li>
								</ul>
							</li>
							<li>BSON
								<ul>
									<li>bridges the gap between binary representation and JSON</li>
									<li>Optimized for speed, space and flexibility</li>
									<li>Data support: String boolean, number (integer, long, float) array, data, binary</li>
								</ul>
							</li>
							<li>BSON provides speed and flexibility
								<ul>
									<li>MongoDB stores data in BSON internally and over the network</li>
								</ul>
								</li>
						</ul>
					</section>
					<section>
						<h2>MongoDB University</h2>
						<ul>
							<li>Check out <a href="https://university.mongodb.com/">MongoDB University</a>
								<ul>
									<li>Developers</li>
									<li>Database administrator</li>
								</ul>
							</li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h2>MongoDB Node.js Driver</h2>
					</section>
					<section>
						<h2>Overview</h2>
						<ul>
							<li>Available through <code>npm</code>
							<ul>
								<li>Install with <code>npm i mongodb</code></li>
							</ul>
						</li>
						</ul>
						<aside class="notes" aria-label="notes">
							<h4>References</h4>
							<ul>
								<li><a href="https://docs.mongodb.com/drivers/node/current/">MongoDB Node Driver — Node.js</a></li>
								<li><a href="https://www.npmjs.com/package/mongodb">mongodb - npm</a></li>
							</ul>
						</aside>
					</section>
				</section>
				<section>
					<section>
						<h2>Mongoose</h2>
					</section>
					<section>
						<h2>What is Mongoose?</h2>
						<ul>
							<li>Mongoose is a MongoDB object data modeling (ODM) library for MongoDB
								<ul>
									<li>Designed to work in an asynchronous environment</li>
									<li>Supports both promises and callbacks</li>
								</ul>
							</li>
						</ul>
					</section>
					<section>
						<h2>Mongoose core concepts</h2>
						<ul>
							<li>Connections</li>
							<li>Schemas</li>
							<li>Models</li>
							<li>Queries</li>
							<li>Validators</li>
						</ul>
					</section>
					<section>
						<h2>Connections</h2>
					</section>
					<section>
						<h2>Schemas</h2>
					</section>
					<section>
						<h2>Models</h2>
					</section>
					<section>
						<h2>Schema and model</h2>
						<pre data-id="code-animation"><code class='typescript' data-trim data-line-numbers="|1|3-9|11-17|19|"><script type="text/template">
							import { Schema, model } from 'mongoose'

							export interface User {
								name: {
									first: string,
									last: string,
								},
								email: string
							}

							const schema = new Schema<User>({
								name: { 
									first: { type: String, required: true },
									last: { type: String, required: true }
								},
								email: { type: String, required: false },
							})

							export const TransactionModel = model<User>('User', schema)
						</script></code></pre>
						<small>examples/lesson-02/hello-mongoose/src/user.ts</small>
					</section>
					<section>
						<h2>Queries</h2>
					</section>
					<section>
						<h2>Validators</h2>
					</section>
					<section>
						<h2>Mongoose vs. Node.js Driver</h2>
						<aside class="notes" aria-label="notes">
							<h4>References</h4>
							<ul>
								<li><a href="https://www.mongodb.com/developer/article/mongoose-versus-nodejs-driver/">MongoDB & Mongoose: Compatibility and Comparison</a></li>
							</ul>
						</aside>
					</section>
				</section>
				<section>
					<section>
						<h2>MongoDB design patterns</h2>
						<ul>
							<li>Use <mark>embedding</mark> for One-to-few</li>
							<li>Use <mark>referencing</mark> for One-to-many</li>
							<li>Use <mark>parent-referencing</mark> for One-to-squillions</li>
						</ul>
						<aside class="notes" aria-label="notes">
							<h4>References</h4>
							<ul>
								<li><a href="https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-1">6 Rules of Thumb for MongoDB Schema Design: Part 1 | MongoDB</a></li>
								<li><a href="https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-2">6 Rules of Thumb for MongoDB Schema Design: Part 2 | MongoDB</a></li>
								<li><a href="https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-3">6 Rules of Thumb for MongoDB Schema Design: Part 3 | MongoDB</a></li>
							</ul>
						</aside>
					</section>
					<section>
						<h2>Embedding</h2>
					</section>
					<section>
						<h2>Transaction</h2>
					</section>
				</section>
				<section>
					<section>
						<h2>Deployment</h2>
					</section>
					<section>
						<h2>Environment variables</h2>
						<aside class="notes" aria-label="notes">
							<h4>References</h4>
							<ul>
								<li><a href="https://nodejs.dev/learn/how-to-read-environment-variables-from-nodejs">How to read environment variables from Node.js</a></li>
							</ul>
						</aside>
					</section>
				</section>
				<section>
					<h2>Wrap-up</h2>
					<ul>
						<li></li>
					</ul>
				</section>
			</div>
		</div>

		<script src="../../dist/reveal.js"></script>
		<script src="../../plugin/notes/notes.js"></script>
		<script src="../../plugin/markdown/markdown.js"></script>
		<script src="../../plugin/highlight/highlight.js"></script>
		<script src="../../js/asciinema-player.js"></script>

		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				slideNumber: true,
				pdfSeparateFragments: false,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
